# ai-qac

## 使用AI生成本APP代码的提示词
```
写一个网页包含一个日历，任务列表和设置。保持UI尽可能简洁，且能适配iPhone/android手机以及电脑的chrome浏览器。服务器端用一个python文件实现。
日历页面的功能：
1. 显示完整的日历，包括年月日。
2. 点击日历上的日期进入对应日期的任务页面。可以点击当天或者之前的日期，不能点之后的日期。
3. 任务的名字用日期来命名。
任务页面的功能：
1. 任务是一些选择题和填空题。
2. 任务题目从支持OpenAI接口的URL获取，调用时候以配置页面中的URL， Key和Prompt作为参数，返回题目列表，包含：选择题和填空题的题目，答案，提示，思考过程。URL没有配置的情况下用default值作为测试数据。
3. 任务页面中每道题有一个确定按钮，点击后检查这道题是否回答正确。第一次错误显示提示，第二次错误就锁定不能再改动。锁定后显示正确答案和思考过程。
4. 任务页面的最下面有个提交按钮。提交后在日历的对应日期显示：正确个数/总数，当超过80%正确显示绿色，当低于60%正确显示红色，其它情况显示黄色。
5. 所有问题没有做完前不能提交。
6. 提交后的任务所有题目都被锁定，再次打开也不能编辑改动。但是可以查看问题，我的回答，正确答案和思考过程。
7. 在调用OpenAI获取数据时候用文字和动画显示提示和状态。
任务列表页面的功能：
1. 任务列表按完成的时间排序，点击后也可以进入对应的任务页面。
2. 当天的任务如果没有完成，自动创建且用高亮显示，排在任务列表的最上面。当天任务完成后不用高亮。
3. 在任务列表里的当天任务有个刷新按钮，点击后不管有没有完成都会删除已有的数据。且变成高亮显示在列表的最上面。
设置页面的功能：
1. 包含一个数据下载功能，可以把所有任务的数据格式化成json文件下载到本地。
2. 包含一个数据恢复功能，可以用之前下载的json文件来恢复任务数据。
3. 可以配置OpenAI接口的参数，如URL，KEY，PROMPT等。其中Key显示为密码。
4. 增加OpenAI配置参数Model，它提供一个列表可选择：DeepSeek, Qwen等。 选择后URL自动填写默认对应的。Model参数也可以手动输入，也就是说下拉选择列表选自定义后可以手动修改它的值。
5. 点击保存按钮，所有设置都保存到localStorage。其它页面/功能可以使用它们。
6. 增加一个数据同步的URL参数配置。
7.  增加一个密码保护设置页面，每次进入配置页面需要先输入这个密码。如果这个密码为空，比如第一次使用的时候，让用户输入并保存起来。
其它功能：
1. 在整个网页上方显示完成的任务数，用大的字体显示。
2. 所有数据用cookie存储，用localStorage方法。
3. 每次都检查localStorage剩余空间。在不足20%时候清理老的任务数据。一年内老的任务只保留正确个数/总数状态。超过一年的任务删除，但完成的任务数保留。
4. 所有函数/步骤/状态变化都尽可能多的打印log，方便debug。可以增加一个开关来关闭log。
5. 测试数据和从OpenAI获取的数据同等对待，便于debug。比如测试数据也保存在cookie中。
6. 如果配置了数据同步的URL参数，在网页上方显示同步数据的按钮，点击后和服务器端同步所有任务和配置的数据。
服务器端功能：
1. 用python实现数据同步功能。
2. 为了数据安全，同步前自动备份数据。为了简单，考虑直接用json文件作为数据文件。为了减少备份数量，同一天的备份用同一个文件。
3. 老的任务可能会被用户端清理，这个也需要同步。
4. 注意服务器和用户端时间可能会有差异，可能有多个用户端会一起同步数据。需要一些手段来实现这个同步。
5. 同步的时候不用区分设备。保证所有设备的数据一致。
6. 服务器端按任务被同步的时间来确定任务数据的新旧，而不是按照客户端的任务提交时间。
7. 除了配置页面的保护密码，所有任务和配置的数据，都参与同步，包括OpenAI的Key。
8. 如果服务器端设置了配置页面的保护密码，同步后覆盖所有客户端。
注意：
1. 代码只包含了js部分，html/css部分已经有了。如果新的js代码需要改动html/css，请告知。
2. 不要用在js代码中生成css/style。
3. 请给出服务器端和客户端的代码改动以满足以下需求。
所有以上功能和页面都写在一个html文件中，不用单独的css/js文件。
```
